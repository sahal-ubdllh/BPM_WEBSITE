<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="pages.css">
    <link rel="shortcut icon" href="../assets/logobpm.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <title>Galeri — BPM FT UNMA</title>
    <style>
        .galeri-page { padding: 56px 40px 100px; max-width: 1200px; margin: 0 auto; }

        /* Filter bar */
        .filter-bar {
            display: flex; gap: 8px; flex-wrap: wrap; justify-content: center;
            margin-bottom: 48px; align-items: center;
        }
        .filter-btn {
            padding: 9px 20px; border-radius: 100px; border: 1.5px solid rgba(85,0,0,.2);
            font-family: 'Poppins',sans-serif; font-size: 12.5px; font-weight: 500;
            cursor: pointer; transition: all var(--transition); color: #777; background: transparent;
        }
        .filter-btn.active, .filter-btn:hover { background: var(--primary); color: var(--secondary); border-color: var(--primary); }
        .filter-search {
            display: flex; align-items: center; gap: 8px; margin-left: auto;
            background: var(--white); border: 1.5px solid rgba(85,0,0,.15);
            border-radius: 100px; padding: 8px 16px;
        }
        .filter-search input { border: none; outline: none; font-family:'Poppins',sans-serif; font-size:13px; color:var(--font-color); width:160px; background:transparent; }
        .filter-search input::placeholder { color:#bbb; }
        .filter-search i { color:rgba(85,0,0,.35); font-size:13px; }

        /* Masonry grid */
        .galeri-grid {
            columns: 3; column-gap: 20px;
        }
        .galeri-item {
            break-inside: avoid; margin-bottom: 20px;
            background: var(--white); border-radius: 20px; overflow: hidden;
            box-shadow: 0 4px 24px rgba(85,0,0,.08); border: 1px solid rgba(85,0,0,.05);
            transition: all var(--transition); cursor: pointer;
        }
        .galeri-item:hover { transform: translateY(-5px); box-shadow: 0 16px 48px rgba(85,0,0,.14); }
        .galeri-item.hidden { display: none; }

        /* Foto */
        .galeri-photo { position: relative; overflow: hidden; }
        .galeri-photo img {
            width: 100%; display: block; aspect-ratio: 4/3; object-fit: cover;
            transition: transform .5s ease;
        }
        .galeri-item:hover .galeri-photo img { transform: scale(1.05); }
        .galeri-photo-placeholder {
            width: 100%; aspect-ratio: 4/3;
            background: linear-gradient(135deg, #f5ede0, #ece0cc);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            gap: 8px; color: rgba(85,0,0,.2);
        }
        .galeri-photo-placeholder i    { font-size: 36px; }
        .galeri-photo-placeholder span { font-size: 11px; letter-spacing: 1px; text-transform: uppercase; }

        .galeri-overlay {
            position: absolute; inset: 0;
            background: linear-gradient(to top, rgba(85,0,0,.8) 0%, transparent 50%);
            opacity: 0; transition: opacity var(--transition);
            display: flex; align-items: center; justify-content: center;
        }
        .galeri-item:hover .galeri-overlay { opacity: 1; }
        .galeri-overlay-icon { color: var(--secondary); font-size: 28px; transform: scale(.8); transition: transform var(--transition); }
        .galeri-item:hover .galeri-overlay-icon { transform: scale(1); }

        .galeri-tag {
            position: absolute; top: 12px; left: 12px;
            background: rgba(85,0,0,.85); backdrop-filter: blur(4px);
            color: var(--secondary); font-size: 10px; font-weight: 600;
            letter-spacing: 1.5px; text-transform: uppercase; padding: 4px 10px; border-radius: 100px;
        }

        /* Info card */
        .galeri-info { padding: 18px 20px; }
        .galeri-date { display: flex; align-items: center; gap: 6px; font-size: 11px; color: rgba(85,0,0,.5); font-weight: 500; letter-spacing: .5px; margin-bottom: 8px; }
        .galeri-date i { font-size: 10px; color: var(--accent); }
        .galeri-title { font-size: 14px; font-weight: 600; color: #333; margin-bottom: 6px; line-height: 1.4; }
        .galeri-desc  { font-size: 12.5px; color: #888; line-height: 1.65; display:-webkit-box; line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }

        /* Empty state */
        .galeri-empty { text-align: center; padding: 80px 20px; display: none; }
        .galeri-empty i { font-size: 48px; color: rgba(85,0,0,.15); margin-bottom: 16px; display: block; }
        .galeri-empty p { color: #aaa; font-size: 14px; }

        /* Count badge */
        .galeri-count { text-align: center; margin-bottom: 28px; font-size: 13px; color: #999; }
        .galeri-count strong { color: var(--primary); }

        /* ── LIGHTBOX ── */
        .lightbox {
            display: none; position: fixed; inset: 0; z-index: 9999;
            background: rgba(10,0,0,.92); backdrop-filter: blur(12px);
            align-items: center; justify-content: center; padding: 20px;
        }
        .lightbox.open { display: flex; }
        .lightbox-inner { position: relative; max-width: 860px; width: 100%; animation: lbIn .3s ease; }
        @keyframes lbIn { from{opacity:0;transform:scale(.93)} to{opacity:1;transform:scale(1)} }
        .lightbox-img { width: 100%; border-radius: 20px; max-height: 65vh; object-fit: contain; display: block; }
        .lightbox-placeholder { width:100%; aspect-ratio:16/9; background:rgba(227,202,175,.05); border-radius:20px; display:flex; align-items:center; justify-content:center; color:rgba(227,202,175,.2); font-size:56px; }
        .lightbox-info { background: rgba(30,0,0,.9); border-radius: 16px; padding: 20px 24px; margin-top: 12px; border: 1px solid rgba(227,202,175,.1); }
        .lightbox-info .lb-date  { font-size: 11px; color: var(--accent); font-weight: 600; letter-spacing: 1.5px; text-transform: uppercase; margin-bottom: 6px; }
        .lightbox-info .lb-title { font-family:'Playfair Display',serif; font-size: 20px; color: var(--secondary); margin-bottom: 8px; }
        .lightbox-info .lb-desc  { font-size: 13.5px; color: rgba(227,202,175,.6); line-height: 1.75; }
        .lb-close {
            position: absolute; top: -16px; right: -16px; width: 40px; height: 40px;
            background: var(--primary); border: none; border-radius: 50%; color: var(--secondary);
            font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: all var(--transition); box-shadow: 0 4px 16px rgba(0,0,0,.4);
        }
        .lb-close:hover { background: var(--accent); color: var(--primary-dark); transform: scale(1.1); }
        .lb-nav { position: absolute; top: 40%; transform: translateY(-50%); background: rgba(85,0,0,.7); border: none; border-radius: 50%; width: 44px; height: 44px; color: var(--secondary); font-size: 16px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all var(--transition); backdrop-filter: blur(4px); }
        .lb-nav:hover { background: var(--primary); transform: translateY(-50%) scale(1.05); }
        .lb-prev { left: -22px; }
        .lb-next { right: -22px; }

        @media(max-width:900px)  { .galeri-grid { columns: 2; } }
        @media(max-width:600px)  {
            .galeri-page { padding: 40px 20px 70px; }
            .galeri-grid { columns: 1; }
            .filter-search { display: none; }
            .lb-prev { left: 8px; } .lb-next { right: 8px; }
        }
    </style>
</head>
<body>

<header id="main-header">
    <nav>
        <div class="logo-container">
            <a href="../index.html" class="logo"><img src="../assets/logobpm.png" alt="Logo BPM"></a>
            <div class="text">
                <h1>BADAN PERWAKILAN MAHASISWA</h1>
                <h2>FAKULTAS TEKNIK UNIVERSITAS MAJALENGKA</h2>
            </div>
        </div>
        <ul class="nav-links">
            <li class="list-nav-links"><a href="../index.html" class="link-item">Beranda</a></li>
            <li class="list-nav-links"><a href="about.html" class="link-item">Tentang Kami</a></li>
            <li class="list-nav-links dropdown">
                <a href="struktur.html" class="dropbtn link-item">Struktur <i class="fa-solid fa-angle-down"></i></a>
                <div class="dropdown-content">
                    <a href="struktur.html#bph" class="list-dropdown"><i class="fas fa-users"></i> Badan Pengurus Harian</a>
                    <a href="struktur.html#legislasi" class="list-dropdown"><i class="fas fa-scale-balanced"></i> Komisi Legislasi</a>
                    <a href="struktur.html#pengawasan" class="list-dropdown"><i class="fas fa-eye"></i> Komisi Pengawasan dan Keuangan</a>
                    <a href="struktur.html#advokasi" class="list-dropdown"><i class="fas fa-handshake"></i> Komisi Advokasi dan Aspirasi</a>
                    <a href="struktur.html#kominfo" class="list-dropdown"><i class="fas fa-tower-broadcast"></i> Komisi Komunikasi dan Informasi</a>
                </div>
            </li>
            <li class="list-nav-links"><a href="aspirasi.html" class="link-item">Aspirasi</a></li>
            <li class="list-nav-links"><a href="galeri.html" class="link-item active">Galeri</a></li>
            <div class="search-container">
                <input type="search" placeholder="Cari..." class="search-box"/>
                <button class="search-button"><i class="fas fa-search"></i></button>
            </div>
        </ul>
        <div class="burger" aria-expanded="false"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div>
    </nav>
</header>

<main>
    <div class="page-hero">
        <div class="page-hero-label">Dokumentasi Kegiatan</div>
        <h1>Galeri</h1>
        <p>Momen dan kenangan perjalanan BPM Fakultas Teknik Universitas Majalengka</p>
    </div>

    <div class="galeri-page">

        <!-- Filter -->
        <div class="filter-bar">
            <button class="filter-btn active" onclick="filterGaleri('semua', this)">Semua</button>
            <button class="filter-btn" onclick="filterGaleri('rapat', this)"><i class="fas fa-users"></i> Rapat</button>
            <button class="filter-btn" onclick="filterGaleri('kegiatan', this)"><i class="fas fa-calendar-star"></i> Kegiatan</button>
            <button class="filter-btn" onclick="filterGaleri('pelantikan', this)"><i class="fas fa-crown"></i> Pelantikan</button>
            <button class="filter-btn" onclick="filterGaleri('aspirasi', this)"><i class="fas fa-comments"></i> Aspirasi</button>
            <div class="filter-search">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Cari kegiatan..." id="galeri-search" oninput="searchGaleri(this.value)">
            </div>
        </div>

        <!-- Count -->
        <div class="galeri-count">Menampilkan <strong id="item-count">8</strong> dari <strong>8</strong> kegiatan</div>

        <!-- Grid -->
        <div class="galeri-grid" id="galeri-grid">

            <!-- Item 1 -->
            <div class="galeri-item reveal" data-tag="pelantikan" data-title="Pelantikan Pengurus BPM FT UNMA" onclick="openLightbox(0)">
                <div class="galeri-photo">
                    <div class="galeri-photo-placeholder"><i class="fas fa-image"></i><span>Ganti dengan foto asli</span></div>
                    <div class="galeri-overlay"><div class="galeri-overlay-icon"><i class="fas fa-expand"></i></div></div>
                    <span class="galeri-tag">Pelantikan</span>
                </div>
                <div class="galeri-info">
                    <div class="galeri-date"><i class="fas fa-calendar"></i> 15 Agustus 2025</div>
                    <div class="galeri-title">Pelantikan Pengurus BPM FT UNMA 2025/2026</div>
                    <div class="galeri-desc">Upacara pelantikan resmi seluruh pengurus BPM Fakultas Teknik Universitas Majalengka periode 2025/2026 yang dihadiri oleh Dekan dan seluruh civitas akademika.</div>
                </div>
            </div>

            <!-- Item 2 -->
            <div class="galeri-item reveal" data-tag="rapat" data-title="Rapat Perdana BPM" onclick="openLightbox(1)">
                <div class="galeri-photo">
                    <div class="galeri-photo-placeholder"><i class="fas fa-image"></i><span>Ganti dengan foto asli</span></div>
                    <div class="galeri-overlay"><div class="galeri-overlay-icon"><i class="fas fa-expand"></i></div></div>
                    <span class="galeri-tag">Rapat</span>
                </div>
                <div class="galeri-info">
                    <div class="galeri-date"><i class="fas fa-calendar"></i> 22 Agustus 2025</div>
                    <div class="galeri-title">Rapat Perdana Pengurus BPM</div>
                    <div class="galeri-desc">Rapat perdana seluruh pengurus BPM untuk menyusun program kerja dan agenda kegiatan selama satu periode kepengurusan.</div>
                </div>
            </div>

            <!-- Item 3 -->
            <div class="galeri-item reveal" data-tag="kegiatan" data-title="Workshop Kepemimpinan" onclick="openLightbox(2)">
                <div class="galeri-photo">
                    <div class="galeri-photo-placeholder"><i class="fas fa-image"></i><span>Ganti dengan foto asli</span></div>
                    <div class="galeri-overlay"><div class="galeri-overlay-icon"><i class="fas fa-expand"></i></div></div>
                    <span class="galeri-tag">Kegiatan</span>
                </div>
                <div class="galeri-info">
                    <div class="galeri-date"><i class="fas fa-calendar"></i> 5 September 2025</div>
                    <div class="galeri-title">Workshop Kepemimpinan Mahasiswa</div>
                    <div class="galeri-desc">Kegiatan pelatihan kepemimpinan untuk seluruh anggota BPM guna meningkatkan kapasitas dan kompetensi dalam berorganisasi.</div>
                </div>
            </div>

            <!-- Item 4 -->
            <div class="galeri-item reveal" data-tag="aspirasi" data-title="Forum Aspirasi Mahasiswa" onclick="openLightbox(3)">
                <div class="galeri-photo">
                    <div class="galeri-photo-placeholder"><i class="fas fa-image"></i><span>Ganti dengan foto asli</span></div>
                    <div class="galeri-overlay"><div class="galeri-overlay-icon"><i class="fas fa-expand"></i></div></div>
                    <span class="galeri-tag">Aspirasi</span>
                </div>
                <div class="galeri-info">
                    <div class="galeri-date"><i class="fas fa-calendar"></i> 18 September 2025</div>
                    <div class="galeri-title">Forum Aspirasi Mahasiswa FT UNMA</div>
                    <div class="galeri-desc">Forum terbuka bagi seluruh mahasiswa Fakultas Teknik untuk menyampaikan aspirasi dan keluhan secara langsung kepada BPM.</div>
                </div>
            </div>

            <!-- Item 5 -->
            <div class="galeri-item reveal" data-tag="rapat" data-title="Rapat Evaluasi Semester" onclick="openLightbox(4)">
                <div class="galeri-photo">
                    <div class="galeri-photo-placeholder"><i class="fas fa-image"></i><span>Ganti dengan foto asli</span></div>
                    <div class="galeri-overlay"><div class="galeri-overlay-icon"><i class="fas fa-expand"></i></div></div>
                    <span class="galeri-tag">Rapat</span>
                </div>
                <div class="galeri-info">
                    <div class="galeri-date"><i class="fas fa-calendar"></i> 10 Oktober 2025</div>
                    <div class="galeri-title">Rapat Evaluasi Tengah Semester</div>
                    <div class="galeri-desc">Rapat evaluasi pencapaian program kerja BPM pada pertengahan semester guna memastikan semua target tercapai sesuai rencana.</div>
                </div>
            </div>

            <!-- Item 6 -->
            <div class="galeri-item reveal" data-tag="kegiatan" data-title="Kunjungan ke BPM FT Universitas Lain" onclick="openLightbox(5)">
                <div class="galeri-photo">
                    <div class="galeri-photo-placeholder"><i class="fas fa-image"></i><span>Ganti dengan foto asli</span></div>
                    <div class="galeri-overlay"><div class="galeri-overlay-icon"><i class="fas fa-expand"></i></div></div>
                    <span class="galeri-tag">Kegiatan</span>
                </div>
                <div class="galeri-info">
                    <div class="galeri-date"><i class="fas fa-calendar"></i> 2 November 2025</div>
                    <div class="galeri-title">Studi Banding ke Universitas Lain</div>
                    <div class="galeri-desc">Kunjungan studi banding BPM FT UNMA ke BPM universitas lain untuk bertukar pengalaman dan memperkaya wawasan organisasi.</div>
                </div>
            </div>

            <!-- Item 7 -->
            <div class="galeri-item reveal" data-tag="aspirasi" data-title="Penyerahan Hasil Aspirasi" onclick="openLightbox(6)">
                <div class="galeri-photo">
                    <div class="galeri-photo-placeholder"><i class="fas fa-image"></i><span>Ganti dengan foto asli</span></div>
                    <div class="galeri-overlay"><div class="galeri-overlay-icon"><i class="fas fa-expand"></i></div></div>
                    <span class="galeri-tag">Aspirasi</span>
                </div>
                <div class="galeri-info">
                    <div class="galeri-date"><i class="fas fa-calendar"></i> 20 November 2025</div>
                    <div class="galeri-title">Penyerahan Hasil Aspirasi ke Dekanat</div>
                    <div class="galeri-desc">Penyerahan laporan kompilasi aspirasi mahasiswa kepada pihak dekanat Fakultas Teknik sebagai bentuk tindak lanjut resmi.</div>
                </div>
            </div>

            <!-- Item 8 -->
            <div class="galeri-item reveal" data-tag="kegiatan" data-title="Foto Bersama Pengurus" onclick="openLightbox(7)">
                <div class="galeri-photo">
                    <div class="galeri-photo-placeholder"><i class="fas fa-image"></i><span>Ganti dengan foto asli</span></div>
                    <div class="galeri-overlay"><div class="galeri-overlay-icon"><i class="fas fa-expand"></i></div></div>
                    <span class="galeri-tag">Kegiatan</span>
                </div>
                <div class="galeri-info">
                    <div class="galeri-date"><i class="fas fa-calendar"></i> 1 Desember 2025</div>
                    <div class="galeri-title">Foto Bersama Seluruh Pengurus BPM</div>
                    <div class="galeri-desc">Dokumentasi kebersamaan seluruh pengurus BPM FT UNMA sebagai kenangan dan semangat bersama menjalankan amanah.</div>
                </div>
            </div>

        </div>

        <div class="galeri-empty" id="galeri-empty">
            <i class="fas fa-images"></i>
            <p>Tidak ada foto yang sesuai dengan filter yang dipilih.</p>
        </div>
    </div>
</main>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox" onclick="closeLightboxOutside(event)">
    <div class="lightbox-inner" id="lightbox-inner">
        <button class="lb-close" onclick="closeLightbox()"><i class="fas fa-times"></i></button>
        <button class="lb-nav lb-prev" onclick="lbNav(-1)"><i class="fas fa-chevron-left"></i></button>
        <button class="lb-nav lb-next" onclick="lbNav(1)"><i class="fas fa-chevron-right"></i></button>
        <div class="lightbox-placeholder" id="lb-img"><i class="fas fa-image"></i></div>
        <div class="lightbox-info">
            <div class="lb-date"  id="lb-date"></div>
            <div class="lb-title" id="lb-title"></div>
            <div class="lb-desc"  id="lb-desc"></div>
        </div>
    </div>
</div>

<footer>
    <div class="footer-top">
        <div class="footer-brand">
            <img src="../assets/logobpm.png" alt="Logo BPM" class="footer-logo">
            <div class="footer-brand-text"><h3>BPM FT UNMA</h3><p>Badan Perwakilan Mahasiswa<br>Fakultas Teknik Universitas Majalengka</p></div>
        </div>
        <div class="footer-tagline"><span>"Satu Langkah Bersama Mahasiswa"</span></div>
    </div>
    <div class="footer-divider"></div>
    <div class="footer-main">
        <div class="footer-col">
            <h4><i class="fas fa-location-dot"></i> Alamat</h4>
            <p>Gedung Fakultas Teknik<br>Universitas Majalengka<br>Jl. KH. Abdul Halim No. 103,<br>Majalengka, Jawa Barat 45418</p>
            <a href="hhttps://maps.app.goo.gl/YLWzgehLRq5iLAmTA" target="_blank" class="footer-map-link"><i class="fas fa-map"></i> Lihat di Maps</a>
        </div>
        <div class="footer-col">
            <h4><i class="fas fa-sitemap"></i> Navigasi</h4>
            <ul class="footer-nav">
                <li><a href="../index.html"><i class="fas fa-chevron-right"></i> Beranda</a></li>
                <li><a href="about.html"><i class="fas fa-chevron-right"></i> Tentang Kami</a></li>
                <li><a href="struktur.html"><i class="fas fa-chevron-right"></i> Struktur Organisasi</a></li>
                <li><a href="aspirasi.html"><i class="fas fa-chevron-right"></i> Aspirasi</a></li>
                <li><a href="galeri.html"><i class="fas fa-chevron-right"></i> Galeri</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h4><i class="fas fa-envelope"></i> Kontak</h4>
            <div class="footer-contact-item"><i class="fas fa-envelope-open-text"></i><span>bpmft20252026@gmail.com</span></div>
            <div class="footer-contact-item"><i class="fas fa-phone"></i><span>+62 838-2469-4692</span></div>
            <h4 style="margin-top:24px"><i class="fas fa-share-nodes"></i> Media Sosial</h4>
            <div class="footer-socials">
                <a href="https://www.instagram.com/bpm_ftunma/" class="social-btn instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" class="social-btn twitter"><i class="fab fa-x-twitter"></i></a>
                <a href="#" class="social-btn facebook"><i class="fab fa-facebook-f"></i></a>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2026 Badan Perwakilan Mahasiswa Fakultas Teknik UNMA. All Rights Reserved.</p>
        <p class="footer-made">Dibuat dengan <i class="fas fa-heart"></i> untuk mahasiswa</p>
    </div>
</footer>

<script src="pages.js"></script>
<script>
// ── DATA foto untuk lightbox
const galeriData = [
    { date:'15 Agustus 2025', title:'Pelantikan Pengurus BPM FT UNMA 2025/2026', desc:'Upacara pelantikan resmi seluruh pengurus BPM Fakultas Teknik Universitas Majalengka periode 2025/2026 yang dihadiri oleh Dekan dan seluruh civitas akademika.' },
    { date:'22 Agustus 2025', title:'Rapat Perdana Pengurus BPM', desc:'Rapat perdana seluruh pengurus BPM untuk menyusun program kerja dan agenda kegiatan selama satu periode kepengurusan.' },
    { date:'5 September 2025', title:'Workshop Kepemimpinan Mahasiswa', desc:'Kegiatan pelatihan kepemimpinan untuk seluruh anggota BPM guna meningkatkan kapasitas dan kompetensi dalam berorganisasi.' },
    { date:'18 September 2025', title:'Forum Aspirasi Mahasiswa FT UNMA', desc:'Forum terbuka bagi seluruh mahasiswa Fakultas Teknik untuk menyampaikan aspirasi dan keluhan secara langsung kepada BPM.' },
    { date:'10 Oktober 2025', title:'Rapat Evaluasi Tengah Semester', desc:'Rapat evaluasi pencapaian program kerja BPM pada pertengahan semester guna memastikan semua target tercapai sesuai rencana.' },
    { date:'2 November 2025', title:'Studi Banding ke Universitas Lain', desc:'Kunjungan studi banding BPM FT UNMA ke BPM universitas lain untuk bertukar pengalaman dan memperkaya wawasan organisasi.' },
    { date:'20 November 2025', title:'Penyerahan Hasil Aspirasi ke Dekanat', desc:'Penyerahan laporan kompilasi aspirasi mahasiswa kepada pihak dekanat Fakultas Teknik sebagai bentuk tindak lanjut resmi.' },
    { date:'1 Desember 2025', title:'Foto Bersama Seluruh Pengurus BPM', desc:'Dokumentasi kebersamaan seluruh pengurus BPM FT UNMA sebagai kenangan dan semangat bersama menjalankan amanah.' },
];

let currentLb = 0;
let visibleItems = [];

function updateVisibleItems() {
    visibleItems = [...document.querySelectorAll('.galeri-item:not(.hidden)')];
}

function openLightbox(idx) {
    updateVisibleItems();
    const item = document.querySelectorAll('.galeri-item')[idx];
    currentLb = visibleItems.indexOf(item);
    if (currentLb < 0) currentLb = 0;
    renderLightbox(currentLb);
    document.getElementById('lightbox').classList.add('open');
    document.body.style.overflow = 'hidden';
}

function renderLightbox(i) {
    const item = visibleItems[i];
    if (!item) return;
    const dataIdx = [...document.querySelectorAll('.galeri-item')].indexOf(item);
    const d = galeriData[dataIdx] || {};
    document.getElementById('lb-date').textContent  = d.date  || '';
    document.getElementById('lb-title').textContent = d.title || '';
    document.getElementById('lb-desc').textContent  = d.desc  || '';
}

function lbNav(dir) {
    currentLb = (currentLb + dir + visibleItems.length) % visibleItems.length;
    renderLightbox(currentLb);
}

function closeLightbox() {
    document.getElementById('lightbox').classList.remove('open');
    document.body.style.overflow = '';
}

function closeLightboxOutside(e) {
    if (e.target === document.getElementById('lightbox')) closeLightbox();
}

document.addEventListener('keydown', e => {
    if (!document.getElementById('lightbox').classList.contains('open')) return;
    if (e.key === 'Escape')     closeLightbox();
    if (e.key === 'ArrowRight') lbNav(1);
    if (e.key === 'ArrowLeft')  lbNav(-1);
});

// ── FILTER
function filterGaleri(tag, btn) {
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const items = document.querySelectorAll('.galeri-item');
    let count = 0;
    items.forEach(item => {
        const match = tag === 'semua' || item.dataset.tag === tag;
        item.classList.toggle('hidden', !match);
        if (match) count++;
    });
    document.getElementById('item-count').textContent = count;
    document.getElementById('galeri-empty').style.display = count === 0 ? 'block' : 'none';
}

// ── SEARCH
function searchGaleri(val) {
    const q = val.toLowerCase().trim();
    const items = document.querySelectorAll('.galeri-item');
    let count = 0;
    items.forEach(item => {
        const title = item.dataset.title.toLowerCase();
        const match = !q || title.includes(q);
        item.classList.toggle('hidden', !match);
        if (match) count++;
    });
    document.getElementById('item-count').textContent = count;
    document.getElementById('galeri-empty').style.display = count === 0 ? 'block' : 'none';
}
</script>
</body>
</html>